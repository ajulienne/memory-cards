(function(t){function e(e){for(var n,a,s=e[0],c=e[1],u=e[2],d=0,l=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&l.push(o[a][0]),o[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);f&&f(e);while(l.length)l.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,a=1;a<r.length;a++){var s=r[a];0!==o[s]&&(n=!1)}n&&(i.splice(e--,1),t=c(c.s=r[0]))}return t}var n={},a={app:0},o={app:0},i=[];function s(t){return c.p+"js/"+({"add-card":"add-card","add-category":"add-category"}[t]||t)+"."+{"add-card":"01b1f7fc","add-category":"f3470a9b"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(t){var e=[],r={"add-card":1};a[t]?e.push(a[t]):0!==a[t]&&r[t]&&e.push(a[t]=new Promise((function(e,r){for(var n="css/"+({"add-card":"add-card","add-category":"add-category"}[t]||t)+"."+{"add-card":"5ec47608","add-category":"31d6cfe0"}[t]+".css",o=c.p+n,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var u=i[s],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===n||d===o))return e()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){u=l[s],d=u.getAttribute("data-href");if(d===n||d===o)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var n=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete a[t],f.parentNode.removeChild(f),r(i)},f.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){a[t]=0})));var n=o[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,r){n=o[t]=[e,r]}));e.push(n[2]=i);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=s(t);var l=new Error;u=function(e){d.onerror=d.onload=null,clearTimeout(f);var r=o[t];if(0!==r){if(r){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",l.name="ChunkLoadError",l.type=n,l.request=a,r[1](l)}o[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,r){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(r,n,function(e){return t[e]}.bind(null,n));return r},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/memory-cards/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var f=d;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var n=r("85ec"),a=r.n(n);a.a},"0967":function(t,e,r){},"16a3":function(t,e,r){"use strict";var n=r("cd8c"),a=r.n(n);a.a},"21bb":function(t,e,r){"use strict";var n=r("2dad"),a=r.n(n);a.a},"2dad":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("Toast"),r("Navbar"),r("div",{attrs:{id:"content"}},[r("router-view")],1)],1)},o=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.toast.message?r("div",{staticClass:"toast",class:t.toast.type},[r("strong",[t._v(t._s(t.toast.message))])]):t._e()},s=[],c={name:"Toast",computed:{toast:function(){return this.$store.state.toast}}},u=c,d=(r("9370"),r("2877")),l=Object(d["a"])(u,i,s,!1,null,null,null),f=l.exports,m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",[r("div",{staticClass:"title"},[r("router-link",{attrs:{tag:"h1",to:"/"}},[t._v("Memory cards")])],1),r("div",{staticClass:"link"},[t.currentCategory?r("router-link",{attrs:{to:{name:"AddCard",params:{id:t.currentCategory.id}}}},[t._v("Add a card")]):t._e()],1)])},g=[],p={name:"Navbar",computed:{currentCategory:function(){return this.$store.state.category.current}}},v=p,h=(r("16a3"),Object(d["a"])(v,m,g,!1,null,null,null)),y=h.exports,C={name:"App",components:{Toast:f,Navbar:y},created:function(){this.$store.dispatch("getCategories")}},b=C,w=(r("034f"),Object(d["a"])(b,a,o,!1,null,null,null)),_=w.exports,T=(r("d3b7"),r("8c4f")),x=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home"},[r("AddCategoryForm"),t.categories?r("div",{staticClass:"categories"},t._l(t.categories,(function(t){return r("Category",{key:t.id,attrs:{category:t}})})),1):t._e()],1)},A=[],E=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("router-link",{staticClass:"category",attrs:{tag:"div",to:{name:"Category",params:{id:t.category.id}}}},[r("div",{staticClass:"actions"},[r("button",[r("Icon",{attrs:{name:"pen"}})],1),r("button",{on:{click:function(e){return e.stopPropagation(),t.remove(e)}}},[r("Icon",{attrs:{name:"times"}})],1)]),r("strong",[t._v(t._s(t.category.name))]),r("p",[t._v(t._s(t.category.description))])])},$=[],q=(r("c52b"),r("8c6f"),r("0874")),I={name:"Category",components:{Icon:q["a"]},props:["category"],methods:{remove:function(){this.$store.dispatch("deleteCategory",this.category.id)}}},k=I,O=(r("c751"),Object(d["a"])(k,E,$,!1,null,null,null)),j=O.exports,P=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"add-category-form"},[t.formIsActive?r("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[r("div",{staticClass:"control"},[r("label",{attrs:{for:"name"}},[t._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",id:"name",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),r("div",{staticClass:"control"},[r("label",{attrs:{for:"description"}},[t._v("Description")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{type:"text",id:"description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),r("div",{staticClass:"buttons"},[r("input",{attrs:{type:"submit",value:"Add category"}}),r("button",{attrs:{type:"button"},on:{click:function(e){t.formIsActive=!1}}},[t._v("Cancel")])])]):r("button",{staticClass:"open-form",on:{click:function(e){t.formIsActive=!0}}},[t._v("Add a category")])])},S=[],F=(r("a4d3"),r("e01a"),r("b0c0"),{name:"AddCategoryForm",data:function(){return{name:null,description:null,formIsActive:!1}},methods:{submitForm:function(){this.$store.dispatch("createCategory",{name:this.name,description:this.description})}}}),N=F,R=(r("ad8e"),Object(d["a"])(N,P,S,!1,null,null,null)),M=R.exports,L={name:"Home",components:{Category:j,AddCategoryForm:M},computed:{categories:function(){return this.$store.state.category.list}}},D=L,H=(r("21bb"),Object(d["a"])(D,x,A,!1,null,null,null)),Q=H.exports,B=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.category?r("div",{staticClass:"category-view"},[r("div",{staticClass:"title"},[r("h1",[t._v(t._s(t.category.name))]),r("p",[t._v(t._s(t.category.description))])]),r("div",{staticClass:"card-list"},[t.card?r("div",{staticClass:"cards"},[r("button",{on:{click:t.prev}},[r("Icon",{attrs:{name:"chevron-left"}})],1),r("Card",{attrs:{card:t.card}}),r("button",{on:{click:t.next}},[r("Icon",{attrs:{name:"chevron-right"}})],1)],1):r("div",[r("p",[t._v(" You don't have any card yet. Start by "),r("router-link",{attrs:{to:{name:"AddCard",params:{id:t.category.id}}}},[t._v("adding one")]),t._v(". ")],1)])])]):t._e()},J=[],V=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card",class:{answer:t.showAnswer,question:!t.showAnswer},on:{click:t.toggleView}},[t.isEditing?[r("EditCardForm",{attrs:{card:t.card},on:{formSubmitted:function(e){t.isEditing=!1},cancelEdit:function(e){t.isEditing=!1}}})]:[r("div",{staticClass:"head"},[r("div",{staticClass:"badge"},[t._v(t._s(t.showAnswer?"Answer":"Question"))]),r("div",{staticClass:"buttons"},[r("button",{on:{click:t.toggleEdit}},[r("Icon",{attrs:{name:"pen"}})],1),r("button",{on:{click:t.remove}},[r("Icon",{attrs:{name:"times"}})],1)])]),t.showAnswer?r("div",{staticClass:"answer"},[r("h1",[t._v(t._s(t.card.answerTitle))]),r("p",{domProps:{innerHTML:t._s(t.formattedAnswer)}})]):r("div",{staticClass:"question"},[r("h1",[t._v(t._s(t.card.questionTitle))]),r("p",{domProps:{innerHTML:t._s(t.formattedQuestion)}})])]],2)},K=[],U=r("0e54"),Y=r.n(U),z=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{staticClass:"edit-form",on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[r("div",{staticClass:"controls"},[r("label",{attrs:{for:"questionTitle"}},[t._v("Question Title")]),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.questionTitle,expression:"questionTitle"}],attrs:{type:"text",id:"questionTitle"},domProps:{value:t.questionTitle},on:{input:function(e){e.target.composing||(t.questionTitle=e.target.value)}}})]),r("div",{staticClass:"controls"},[r("label",{attrs:{for:"question"}},[t._v("Question")]),r("br"),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.question,expression:"question"}],attrs:{id:"question",cols:"60",rows:"5"},domProps:{value:t.question},on:{input:function(e){e.target.composing||(t.question=e.target.value)}}})]),r("div",{staticClass:"controls"},[r("label",{attrs:{for:"answerTitle"}},[t._v("Answer Title")]),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.answerTitle,expression:"answerTitle"}],attrs:{type:"text",id:"answerTitle"},domProps:{value:t.answerTitle},on:{input:function(e){e.target.composing||(t.answerTitle=e.target.value)}}})]),r("div",{staticClass:"controls"},[r("label",{attrs:{for:"answer"}},[t._v("Answer")]),r("br"),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.answer,expression:"answer"}],attrs:{id:"answer",cols:"60",rows:"5"},domProps:{value:t.answer},on:{input:function(e){e.target.composing||(t.answer=e.target.value)}}})]),r("div",{staticClass:"submit"},[r("input",{attrs:{type:"submit",value:"Edit"}}),r("button",{attrs:{type:"button"},on:{click:t.cancel}},[t._v("Cancel")])])])},G=[],W={name:"EditCardForm",props:["card"],data:function(){return{questionTitle:this.card.questionTitle,answerTitle:this.card.answerTitle,question:this.card.question,answer:this.card.answer}},methods:{submitForm:function(){var t=this;this.$store.dispatch("updateCard",{id:this.card.id,answerTitle:this.answerTitle,questionTitle:this.questionTitle,answer:this.answer,question:this.question}).then((function(){t.$emit("formSubmitted")}))},cancel:function(){this.$emit("cancelEdit")}}},X=W,Z=(r("f5a8"),Object(d["a"])(X,z,G,!1,null,null,null)),tt=Z.exports,et={name:"Card",components:{Icon:q["a"],EditCardForm:tt},props:["card"],data:function(){return{isEditing:!1,showAnswer:!1}},methods:{remove:function(){window.confirm("Do you want to remove this card?")&&(this.$store.dispatch("deleteCard",this.card.id),this.$store.dispatch("getRandomCard",{categoryId:this.card.categoryId}))},toggleEdit:function(){this.isEditing=!this.isEditing},toggleView:function(){this.showAnswer=!this.showAnswer}},computed:{formattedAnswer:function(){return this.card.answer?Y()(this.card.answer):""},formattedQuestion:function(){return this.card.question?Y()(this.card.question):""}},watch:{card:function(){this.isEditing=!1,this.showAnswer=!1}}},rt=et,nt=(r("e60d"),Object(d["a"])(rt,V,K,!1,null,null,null)),at=nt.exports,ot=r("bd19"),it=r.n(ot),st=(r("face"),r("ff31"),{name:"CategoryPage",components:{Card:at,Icon:it.a},computed:{category:function(){return this.$store.state.category.current},categoryList:function(){return this.$store.state.category.list},card:function(){return this.$store.state.card.data}},methods:{next:function(){this.$store.dispatch("getRandomCard",{categoryId:this.category.id,currentId:this.card.id})},prev:function(){this.$store.dispatch("getRandomCard",{categoryId:this.category.id,currentId:this.card.id})}},watch:{$route:function(t){this.$store.dispatch("selectCategory",t.params.id)},category:function(){this.$store.dispatch("getRandomCard",{categoryId:this.category.id})},categoryList:function(){this.category||this.$store.dispatch("selectCategory",this.$route.params.id)}},created:function(){this.categoryList&&this.$store.dispatch("selectCategory",this.$route.params.id)}}),ct=st,ut=(r("c9d3"),Object(d["a"])(ct,B,J,!1,null,null,null)),dt=ut.exports;n["a"].use(T["a"]);var lt=[{path:"/",name:"Home",component:Q},{path:"/category",name:"AddCategory",component:function(){return r.e("add-category").then(r.bind(null,"ff7a"))}},{path:"/category/:id",name:"Category",component:dt},{path:"/category/:id/add",name:"AddCard",component:function(){return r.e("add-card").then(r.bind(null,"098f"))}},{path:"*",redirect:"/"}],ft=new T["a"]({routes:lt}),mt=ft,gt=r("2f62"),pt=r("5530"),vt=r("a2aa"),ht=vt.getRandomCard,yt=vt.deleteCard,Ct=vt.updateCard,bt=vt.createCard,wt={data:null,loading:!1,error:null},_t={getCard:function(t){t.loading=!0},getCardSuccess:function(t,e){t.loading=!1,t.data=e},getCardFailure:function(t,e){t.loading=!1,t.error=e},deleteCard:function(t){t.data=null},updateCard:function(t,e){t.data=e},createCard:function(t,e){t.data=e}},Tt={getRandomCard:function(t,e){var r=t.commit;r("getCard"),ht(e.categoryId,e.currentId).then((function(t){r("getCardSuccess",t)})).catch((function(t){r("getCardFailure",t)}))},getCard:function(t,e){var r=t.commit;r("getCard"),this.getCard(e).then((function(t){r("getCardSuccess",t)})).catch((function(t){r("getCardFailure",t)}))},createCard:function(t,e){var r=t.commit;bt(e).then((function(t){r("createCard",Object(pt["a"])({id:t},e))}))},deleteCard:function(t,e){var r=t.commit;yt(e).then((function(){r("deleteCard")}))},updateCard:function(t,e){var r=t.commit;Ct(e.id,e).then((function(t){r("updateCard",t)}))}},xt={state:wt,mutations:_t,actions:Tt},At=(r("4de4"),r("7db0"),r("a2aa")),Et=At.getCategories,$t=At.createCategory,qt=At.deleteCategory,It={current:null,list:null,loading:!1,error:null},kt={getCategories:function(t){t.loading=!0},getCategoriesSuccess:function(t,e){t.loading=!1,t.list=e},getCategoriesFailure:function(t,e){t.loading=!1,t.error=e},createCategory:function(t,e){t.list?t.list.push(e):t.list=[e]},deleteCategory:function(t,e){t.list=t.list.filter((function(t){return+t.id!==+e}))},selectCategory:function(t,e){t.current=t.list.find((function(t){return+t.id===+e}))}},Ot={getCategories:function(t){var e=t.commit;e("getCategories"),Et().then((function(t){e("getCategoriesSuccess",t)})).catch((function(t){e("getCategoriesFailure",t)}))},createCategory:function(t,e){var r=t.commit;$t(e).then((function(t){r("createCategory",Object(pt["a"])({id:t},e))}))},deleteCategory:function(t,e){var r=t.commit;qt(e).then((function(){r("deleteCategory",e)}))},selectCategory:function(t,e){var r=t.commit;r("selectCategory",e)}},jt={state:It,mutations:kt,actions:Ot},Pt={message:null,type:null},St={addToast:function(t,e){t.message=e.message,t.type=e.type},removeToast:function(t){t.message=null,t.type=null}},Ft={addToast:function(t,e){var r=t.commit;r("addToast",e),setTimeout((function(){r("removeToast")}),3e3)}},Nt={state:Pt,mutations:St,actions:Ft};n["a"].use(gt["a"]);var Rt=new gt["a"].Store({modules:{card:xt,category:jt,toast:Nt}}),Mt=Rt;n["a"].config.productionTip=!1,new n["a"]({router:mt,store:Mt,render:function(t){return t(_)}}).$mount("#app")},"85ec":function(t,e,r){},"8ad7":function(t,e,r){},9370:function(t,e,r){"use strict";var n=r("0967"),a=r.n(n);a.a},a2aa:function(t,e,r){"use strict";r.r(e),r.d(e,"getCards",(function(){return s})),r.d(e,"createCard",(function(){return c})),r.d(e,"deleteCard",(function(){return u})),r.d(e,"updateCard",(function(){return d})),r.d(e,"getCard",(function(){return l})),r.d(e,"getRandomCard",(function(){return f})),r.d(e,"getCategories",(function(){return m})),r.d(e,"createCategory",(function(){return g})),r.d(e,"deleteCategory",(function(){return p}));r("c740"),r("d81d"),r("fb6a"),r("96cf");var n=r("1da1"),a=r("4dec"),o=new a["a"]("memory");o.version(1).stores({categories:"++id,name,description",cards:"++id,question,answer,categoryId"});var i=o,s=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=h,t.next=3,i.cards.toArray();case 3:return t.t1=t.sent,e=(0,t.t0)(t.t1),r=e.map((function(t){return t.id})),t.abrupt("return",{cards:e,ids:r});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=function(t){return i.cards.add(t)},u=function(t){return i.cards.delete(t)},d=function(t,e){return i.cards.update(t,e)},l=function(t){return i.cards.where({id:t}).first()},f=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r,n,a,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:null,t.next=3,i.cards.where({categoryId:e}).toArray();case 3:return n=t.sent,a=v(n,r),t.abrupt("return",n[a]);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){return i.categories.toArray()},g=function(t){return i.categories.add(t)},p=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.cards.where({categoryId:e}).delete();case 2:return t.abrupt("return",i.categories.delete(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(1===e.length)return 0;var n=Math.floor(Math.random()*e.length),a=e.findIndex((function(t){return+t.id===+r}));return r&&a===n?t(e,r):n},h=function(t){var e,r,n,a=t.slice();for(n=a.length-1;n>0;n--)e=Math.floor(Math.random()*(n+1)),r=a[n],a[n]=a[e],a[e]=r;return a}},a81e:function(t,e,r){},ad8e:function(t,e,r){"use strict";var n=r("a81e"),a=r.n(n);a.a},c751:function(t,e,r){"use strict";var n=r("8ad7"),a=r.n(n);a.a},c842:function(t,e,r){},c9d3:function(t,e,r){"use strict";var n=r("c842"),a=r.n(n);a.a},cd8c:function(t,e,r){},d62b:function(t,e,r){},e60d:function(t,e,r){"use strict";var n=r("e9ec"),a=r.n(n);a.a},e9ec:function(t,e,r){},f5a8:function(t,e,r){"use strict";var n=r("d62b"),a=r.n(n);a.a}});
//# sourceMappingURL=app.9e2733bf.js.map
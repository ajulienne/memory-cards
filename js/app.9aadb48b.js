(function(t){function e(e){for(var n,a,s=e[0],c=e[1],d=e[2],u=0,l=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&l.push(o[a][0]),o[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);f&&f(e);while(l.length)l.shift()();return i.push.apply(i,d||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,a=1;a<r.length;a++){var s=r[a];0!==o[s]&&(n=!1)}n&&(i.splice(e--,1),t=c(c.s=r[0]))}return t}var n={},a={app:0},o={app:0},i=[];function s(t){return c.p+"js/"+({"add-card":"add-card","add-category":"add-category"}[t]||t)+"."+{"add-card":"930ecba5","add-category":"6cda87cd"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(t){var e=[],r={"add-card":1};a[t]?e.push(a[t]):0!==a[t]&&r[t]&&e.push(a[t]=new Promise((function(e,r){for(var n="css/"+({"add-card":"add-card","add-category":"add-category"}[t]||t)+"."+{"add-card":"5ec47608","add-category":"31d6cfe0"}[t]+".css",o=c.p+n,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var d=i[s],u=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(u===n||u===o))return e()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){d=l[s],u=d.getAttribute("data-href");if(u===n||u===o)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var n=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete a[t],f.parentNode.removeChild(f),r(i)},f.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){a[t]=0})));var n=o[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,r){n=o[t]=[e,r]}));e.push(n[2]=i);var d,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=s(t);var l=new Error;d=function(e){u.onerror=u.onload=null,clearTimeout(f);var r=o[t];if(0!==r){if(r){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",l.name="ChunkLoadError",l.type=n,l.request=a,r[1](l)}o[t]=void 0}};var f=setTimeout((function(){d({type:"timeout",target:u})}),12e4);u.onerror=u.onload=d,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,r){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(r,n,function(e){return t[e]}.bind(null,n));return r},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/memory-cards/",c.oe=function(t){throw console.error(t),t};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],u=d.push.bind(d);d.push=e,d=d.slice();for(var l=0;l<d.length;l++)e(d[l]);var f=u;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"16a3":function(t,e,r){"use strict";var n=r("cd8c"),a=r.n(n);a.a},"21bb":function(t,e,r){"use strict";var n=r("2dad"),a=r.n(n);a.a},"2dad":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("Navbar"),r("div",{attrs:{id:"content"}},[r("router-view")],1)],1)},o=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",[r("div",{staticClass:"title"},[r("router-link",{attrs:{tag:"h1",to:"/"}},[t._v("Memory cards")])],1),r("div",{staticClass:"link"},[t.currentCategory?r("router-link",{attrs:{to:{name:"AddCard",params:{id:t.currentCategory.id}}}},[t._v("Add a card")]):t._e()],1)])},s=[],c={name:"Navbar",computed:{currentCategory:function(){return this.$store.state.category.current}}},d=c,u=(r("16a3"),r("2877")),l=Object(u["a"])(d,i,s,!1,null,null,null),f=l.exports,m={name:"App",components:{Navbar:f},created:function(){this.$store.dispatch("getCategories")}},g=m,p=(r("5c0b"),Object(u["a"])(g,a,o,!1,null,null,null)),h=p.exports,v=(r("d3b7"),r("8c4f")),y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home"},[r("AddCategoryForm"),t.categories?r("div",{staticClass:"categories"},t._l(t.categories,(function(t){return r("Category",{key:t.id,attrs:{category:t}})})),1):t._e()],1)},C=[],w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("router-link",{staticClass:"category",attrs:{tag:"div",to:{name:"Category",params:{id:t.category.id}}}},[r("div",{staticClass:"actions"},[r("button",[r("Icon",{attrs:{name:"pen"}})],1),r("button",{on:{click:function(e){return e.stopPropagation(),t.remove(e)}}},[r("Icon",{attrs:{name:"times"}})],1)]),r("strong",[t._v(t._s(t.category.name))]),r("p",[t._v(t._s(t.category.description))])])},b=[],_=(r("c52b"),r("8c6f"),r("0874")),x={name:"Category",components:{Icon:_["a"]},props:["category"],methods:{remove:function(){this.$store.dispatch("deleteCategory",this.category.id)}}},$=x,I=(r("c751"),Object(u["a"])($,w,b,!1,null,null,null)),A=I.exports,T=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"add-category-form"},[t.formIsActive?r("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[r("div",{staticClass:"control"},[r("label",{attrs:{for:"name"}},[t._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",id:"name",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),r("div",{staticClass:"control"},[r("label",{attrs:{for:"description"}},[t._v("Description")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{type:"text",id:"description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),r("div",{staticClass:"buttons"},[r("input",{attrs:{type:"submit",value:"Add category"}}),r("button",{attrs:{type:"button"},on:{click:function(e){t.formIsActive=!1}}},[t._v("Cancel")])])]):r("button",{staticClass:"open-form",on:{click:function(e){t.formIsActive=!0}}},[t._v("Add a category")])])},E=[],q=(r("a4d3"),r("e01a"),r("b0c0"),{name:"AddCategoryForm",data:function(){return{name:null,description:null,formIsActive:!1}},methods:{submitForm:function(){this.$store.dispatch("createCategory",{name:this.name,description:this.description})}}}),k=q,O=(r("ad8e"),Object(u["a"])(k,T,E,!1,null,null,null)),j=O.exports,P={name:"Home",components:{Category:A,AddCategoryForm:j},computed:{categories:function(){return this.$store.state.category.list}}},F=P,S=(r("21bb"),Object(u["a"])(F,y,C,!1,null,null,null)),N=S.exports,R=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.category?r("div",{staticClass:"category-view"},[r("div",{staticClass:"head"},[r("div",{staticClass:"title"},[r("h1",[t._v(t._s(t.category.name))]),r("p",[t._v(t._s(t.category.description))])]),r("div",{staticClass:"actions"},[r("Icon",{class:{activated:t.randomize},attrs:{title:"Toggle randomness",alt:"Toggle randomness icon",scale:"2",name:"random"},on:{click:t.toggleRandom}})],1)]),r("div",{staticClass:"card-list"},[t.card?r("div",{staticClass:"cards"},[r("button",{on:{click:t.prev}},[r("Icon",{attrs:{name:"chevron-left"}})],1),r("Card",{attrs:{card:t.card}}),r("button",{on:{click:t.next}},[r("Icon",{attrs:{name:"chevron-right"}})],1)],1):r("div",[r("p",[t._v(" You don't have any card yet. Start by "),r("router-link",{attrs:{to:{name:"AddCard",params:{id:t.category.id}}}},[t._v("adding one")]),t._v(". ")],1)])])]):t._e()},L=[],M=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card",class:{answer:t.showAnswer,question:!t.showAnswer},on:{click:t.toggleView}},[t.isEditing?[r("EditCardForm",{attrs:{card:t.card},on:{formSubmitted:function(e){t.isEditing=!1},cancelEdit:function(e){t.isEditing=!1}}})]:[r("div",{staticClass:"head"},[r("div",{staticClass:"badge"},[t._v(t._s(t.showAnswer?"Answer":"Question"))]),r("div",{staticClass:"buttons"},[r("button",{on:{click:t.toggleEdit}},[r("Icon",{attrs:{name:"pen"}})],1),r("button",{on:{click:t.remove}},[r("Icon",{attrs:{name:"times"}})],1)])]),t.showAnswer?r("div",{staticClass:"answer"},[r("h1",[t._v(t._s(t.card.answerTitle))]),r("p",{domProps:{innerHTML:t._s(t.formattedAnswer)}})]):r("div",{staticClass:"question"},[r("h1",[t._v(t._s(t.card.questionTitle))]),r("p",{domProps:{innerHTML:t._s(t.formattedQuestion)}})])]],2)},z=[],D=r("0e54"),H=r.n(D),Q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{staticClass:"edit-form",on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[r("div",{staticClass:"controls"},[r("label",{attrs:{for:"questionTitle"}},[t._v("Question Title")]),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.questionTitle,expression:"questionTitle"}],attrs:{type:"text",id:"questionTitle"},domProps:{value:t.questionTitle},on:{input:function(e){e.target.composing||(t.questionTitle=e.target.value)}}})]),r("div",{staticClass:"controls"},[r("label",{attrs:{for:"question"}},[t._v("Question")]),r("br"),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.question,expression:"question"}],attrs:{id:"question",cols:"60",rows:"5"},domProps:{value:t.question},on:{input:function(e){e.target.composing||(t.question=e.target.value)}}})]),r("div",{staticClass:"controls"},[r("label",{attrs:{for:"answerTitle"}},[t._v("Answer Title")]),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.answerTitle,expression:"answerTitle"}],attrs:{type:"text",id:"answerTitle"},domProps:{value:t.answerTitle},on:{input:function(e){e.target.composing||(t.answerTitle=e.target.value)}}})]),r("div",{staticClass:"controls"},[r("label",{attrs:{for:"answer"}},[t._v("Answer")]),r("br"),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.answer,expression:"answer"}],attrs:{id:"answer",cols:"60",rows:"5"},domProps:{value:t.answer},on:{input:function(e){e.target.composing||(t.answer=e.target.value)}}})]),r("div",{staticClass:"submit"},[r("input",{attrs:{type:"submit",value:"Edit"}}),r("button",{attrs:{type:"button"},on:{click:t.cancel}},[t._v("Cancel")])])])},B=[],J={name:"EditCardForm",props:["card"],data:function(){return{questionTitle:this.card.questionTitle,answerTitle:this.card.answerTitle,question:this.card.question,answer:this.card.answer}},methods:{submitForm:function(){var t=this;this.$store.dispatch("updateCard",{id:this.card.id,answerTitle:this.answerTitle,questionTitle:this.questionTitle,answer:this.answer,question:this.question}).then((function(){t.$emit("formSubmitted")}))},cancel:function(){this.$emit("cancelEdit")}}},V=J,K=(r("f5a8"),Object(u["a"])(V,Q,B,!1,null,null,null)),U=K.exports,Y={name:"Card",components:{Icon:_["a"],EditCardForm:U},props:["card"],data:function(){return{isEditing:!1,showAnswer:!1}},methods:{remove:function(){window.confirm("Do you want to remove this card?")&&(this.$store.dispatch("deleteCard",this.card.id),this.$store.dispatch("getRandomCard",{categoryId:this.card.categoryId}))},toggleEdit:function(){this.isEditing=!this.isEditing},toggleView:function(){this.showAnswer=!this.showAnswer}},computed:{formattedAnswer:function(){return this.card.answer?H()(this.card.answer):""},formattedQuestion:function(){return this.card.question?H()(this.card.question):""}},watch:{card:function(){this.isEditing=!1,this.showAnswer=!1}}},G=Y,W=(r("e60d"),Object(u["a"])(G,M,z,!1,null,null,null)),X=W.exports,Z=r("bd19"),tt=r.n(Z),et=(r("face"),r("ff31"),r("0be2"),{name:"CategoryPage",components:{Card:X,Icon:tt.a},data:function(){return{randomize:!1}},computed:{category:function(){return this.$store.state.category.current},categoryList:function(){return this.$store.state.category.list},card:function(){return this.$store.state.card.data}},methods:{toggleRandom:function(){this.randomize=!this.randomize},next:function(){this.randomize?this.$store.dispatch("getRandomCard",{categoryId:this.category.id,currentId:this.card.id}):this.$store.dispatch("getNextCard",{id:this.card.id,categoryId:this.category.id})},prev:function(){this.randomize?this.$store.dispatch("getRandomCard",{categoryId:this.category.id,currentId:this.card.id}):this.$store.dispatch("getPreviousCard",{id:this.card.id,categoryId:this.category.id})}},watch:{$route:function(t){this.$store.dispatch("selectCategory",t.params.id)},category:function(){this.randomize?this.$store.dispatch("getRandomCard",{categoryId:this.category.id}):this.$store.dispatch("getFirstCard",this.category.id)},categoryList:function(){this.category||this.$store.dispatch("selectCategory",this.$route.params.id)}},created:function(){this.categoryList&&this.$store.dispatch("selectCategory",this.$route.params.id)}}),rt=et,nt=(r("c9d3"),Object(u["a"])(rt,R,L,!1,null,null,null)),at=nt.exports;n["default"].use(v["a"]);var ot=[{path:"/",name:"Home",component:N},{path:"/category",name:"AddCategory",component:function(){return r.e("add-category").then(r.bind(null,"ff7a"))}},{path:"/category/:id",name:"Category",component:at},{path:"/category/:id/add",name:"AddCard",component:function(){return r.e("add-card").then(r.bind(null,"098f"))}},{path:"*",redirect:"/"}],it=new v["a"]({routes:ot}),st=it,ct=r("2f62"),dt=r("5530"),ut=(r("c740"),r("d81d"),r("fb6a"),r("96cf"),r("1da1")),lt=r("4dec"),ft=new lt["a"]("memory");ft.version(1).stores({categories:"++id,name,description",cards:"++id,question,answer,categoryId"});var mt=ft,gt=function(t){return mt.cards.add(t)},pt=function(t){return mt.cards.delete(t)},ht=function(t,e){return mt.cards.update(t,e)},vt=function(t){return mt.cards.where({id:t}).first()},yt=function(t){return mt.cards.where({categoryId:t}).first()},Ct=function(){var t=Object(ut["a"])(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,mt.cards.where({categoryId:r}).and((function(t){return t.id>e})).first();case 2:return n=t.sent,t.abrupt("return",n||mt.cards.where({categoryId:r}).first());case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),wt=function(){var t=Object(ut["a"])(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,mt.cards.where({categoryId:r}).and((function(t){return t.id<e})).last();case 2:return n=t.sent,t.abrupt("return",n||mt.cards.where({categoryId:r}).last());case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),bt=function(){var t=Object(ut["a"])(regeneratorRuntime.mark((function t(e){var r,n,a,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:null,t.next=3,mt.cards.where({categoryId:e}).toArray();case 3:return n=t.sent,a=It(n,r),t.abrupt("return",n[a]);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),_t=function(){return mt.categories.toArray()},xt=function(t){return mt.categories.add(t)},$t=function(){var t=Object(ut["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,mt.cards.where({categoryId:e}).delete();case 2:return t.abrupt("return",mt.categories.delete(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),It=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(1===e.length)return 0;var n=Math.floor(Math.random()*e.length),a=e.findIndex((function(t){return+t.id===+r}));return r&&a===n?t(e,r):n},At={data:null,loading:!1,error:null},Tt={getCard:function(t){t.loading=!0},getCardSuccess:function(t,e){t.loading=!1,t.data=e},getCardFailure:function(t,e){t.loading=!1,t.error=e},deleteCard:function(t){t.data=null},updateCard:function(t,e){t.data=e},createCard:function(t,e){t.data=e}},Et={getRandomCard:function(t,e){var r=t.commit;r("getCard"),bt(e.categoryId,e.currentId).then((function(t){r("getCardSuccess",t)})).catch((function(t){r("getCardFailure",t)}))},getCard:function(t,e){var r=t.commit;vt(e).then((function(t){r("getCardSuccess",t)})).catch((function(t){r("getCardFailure",t)}))},getFirstCard:function(t,e){var r=t.commit;r("getCard"),yt(e).then((function(t){r("getCardSuccess",t)})).catch((function(t){r("getCardFailure",t)}))},getNextCard:function(t,e){var r=t.commit;r("getCard"),Ct(e.id,e.categoryId).then((function(t){r("getCardSuccess",t)})).catch((function(t){r("getCardFailure",t)}))},getPreviousCard:function(t,e){var r=t.commit;console.log("get previous card"),r("getCard"),wt(e.id,e.categoryId).then((function(t){r("getCardSuccess",t)})).catch((function(t){r("getCardFailure",t)}))},createCard:function(t,e){var r=t.commit;gt(e).then((function(t){n["default"].$toast.success("Card created!"),r("createCard",Object(dt["a"])({id:t},e))}))},deleteCard:function(t,e){var r=t.commit;pt(e).then((function(){n["default"].$toast.success("Card deleted!"),r("deleteCard")}))},updateCard:function(t,e){var r=t.commit;ht(e.id,e).then((function(t){n["default"].$toast.success("Card updated!"),r("updateCard",t)}))}},qt={state:At,mutations:Tt,actions:Et},kt=(r("4de4"),r("7db0"),{current:null,list:null,loading:!1,error:null}),Ot={getCategories:function(t){t.loading=!0},getCategoriesSuccess:function(t,e){t.loading=!1,t.list=e},getCategoriesFailure:function(t,e){t.loading=!1,t.error=e},createCategory:function(t,e){t.list?t.list.push(e):t.list=[e]},deleteCategory:function(t,e){t.list=t.list.filter((function(t){return+t.id!==+e}))},selectCategory:function(t,e){t.current=t.list.find((function(t){return+t.id===+e}))}},jt={getCategories:function(t){var e=t.commit;e("getCategories"),_t().then((function(t){e("getCategoriesSuccess",t)})).catch((function(t){e("getCategoriesFailure",t)}))},createCategory:function(t,e){var r=t.commit;xt(e).then((function(t){n["default"].$toast.success("Category created!"),r("createCategory",Object(dt["a"])({id:t},e))}))},deleteCategory:function(t,e){var r=t.commit;$t(e).then((function(){n["default"].$toast.success("Category deleted!"),r("deleteCategory",e)}))},selectCategory:function(t,e){var r=t.commit;n["default"].$toast.success("Category updated!"),r("selectCategory",e)}},Pt={state:kt,mutations:Ot,actions:jt};n["default"].use(ct["a"]);var Ft=new ct["a"].Store({modules:{card:qt,category:Pt}}),St=Ft,Nt=r("b079"),Rt=r.n(Nt);r("ce8c");n["default"].use(Rt.a,{position:"top-right",pauseOnHover:!1}),n["default"].config.productionTip=!1,new n["default"]({router:st,store:St,render:function(t){return t(h)}}).$mount("#app")},"5c0b":function(t,e,r){"use strict";var n=r("9c0c"),a=r.n(n);a.a},"8ad7":function(t,e,r){},"9c0c":function(t,e,r){},a81e:function(t,e,r){},ad8e:function(t,e,r){"use strict";var n=r("a81e"),a=r.n(n);a.a},c751:function(t,e,r){"use strict";var n=r("8ad7"),a=r.n(n);a.a},c842:function(t,e,r){},c9d3:function(t,e,r){"use strict";var n=r("c842"),a=r.n(n);a.a},cd8c:function(t,e,r){},d62b:function(t,e,r){},e60d:function(t,e,r){"use strict";var n=r("e9ec"),a=r.n(n);a.a},e9ec:function(t,e,r){},f5a8:function(t,e,r){"use strict";var n=r("d62b"),a=r.n(n);a.a}});
//# sourceMappingURL=app.9aadb48b.js.map
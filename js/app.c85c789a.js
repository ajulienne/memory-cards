(function(t){function e(e){for(var r,a,o=e[0],c=e[1],d=e[2],u=0,l=[];u<o.length;u++)a=o[u],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&l.push(s[a][0]),s[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);f&&f(e);while(l.length)l.shift()();return i.push.apply(i,d||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,a=1;a<n.length;a++){var o=n[a];0!==s[o]&&(r=!1)}r&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},a={app:0},s={app:0},i=[];function o(t){return c.p+"js/"+({"add-card":"add-card"}[t]||t)+"."+{"add-card":"73ac5046"}[t]+".js"}function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"add-card":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var r="css/"+({"add-card":"add-card"}[t]||t)+"."+{"add-card":"5ec47608"}[t]+".css",s=c.p+r,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var d=i[o],u=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(u===r||u===s))return e()}var l=document.getElementsByTagName("style");for(o=0;o<l.length;o++){d=l[o],u=d.getAttribute("data-href");if(u===r||u===s)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var r=e&&e.target&&e.target.src||s,i=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[t],f.parentNode.removeChild(f),n(i)},f.href=s;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){a[t]=0})));var r=s[t];if(0!==r)if(r)e.push(r[2]);else{var i=new Promise((function(e,n){r=s[t]=[e,n]}));e.push(r[2]=i);var d,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(t);var l=new Error;d=function(e){u.onerror=u.onload=null,clearTimeout(f);var n=s[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,n[1](l)}s[t]=void 0}};var f=setTimeout((function(){d({type:"timeout",target:u})}),12e4);u.onerror=u.onload=d,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/memory-cards/",c.oe=function(t){throw console.error(t),t};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],u=d.push.bind(d);d.push=e,d=d.slice();for(var l=0;l<d.length;l++)e(d[l]);var f=u;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var r=n("85ec"),a=n.n(r);a.a},"0967":function(t,e,n){},"16a3":function(t,e,n){"use strict";var r=n("cd8c"),a=n.n(r);a.a},2798:function(t,e,n){"use strict";var r=n("8abb"),a=n.n(r);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Toast"),n("Navbar"),n("router-view")],1)},s=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.toast?n("div",{staticClass:"toast",class:t.toast.type},[n("strong",[t._v(t._s(t.toast.message))])]):t._e()},o=[],c={name:"Toast",computed:{toast:function(){return this.$store.state.toast}}},d=c,u=(n("9370"),n("2877")),l=Object(u["a"])(d,i,o,!1,null,null,null),f=l.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",[n("div",{staticClass:"title"},[n("router-link",{attrs:{tag:"h1",to:"/cards"}},[t._v("Memory cards")])],1),n("div",{staticClass:"link"},[n("router-link",{attrs:{to:"/add"}},[t._v("Add a card")])],1)])},p=[],h={name:"Navbar"},v=h,w=(n("16a3"),Object(u["a"])(v,m,p,!1,null,null,null)),g=w.exports,b={name:"App",components:{Toast:f,Navbar:g},created:function(){this.$store.dispatch("get")},computed:{ids:function(){return this.$store.state.ids}},watch:{ids:function(){this.$router.push({name:"CardList",params:{id:this.$store.state.ids[0]}})}}},C=b,T=(n("034f"),Object(u["a"])(C,a,s,!1,null,null,null)),y=T.exports,_=(n("d3b7"),n("8c4f")),E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-list"},[t.ids.length>0?n("div",{staticClass:"cards"},[n("button",{attrs:{disabled:t.hasOnlyOneCard},on:{click:t.prev}},[n("Icon",{attrs:{name:"chevron-left"}})],1),n("router-view"),n("button",{attrs:{disabled:t.hasOnlyOneCard},on:{click:t.next}},[n("Icon",{attrs:{name:"chevron-right"}})],1)],1):n("div",[n("p",[t._v(" You don't have any card yet. Start by "),n("router-link",{attrs:{to:"/add"}},[t._v("adding one")]),t._v(". ")],1)])])},O=[],$=(n("c975"),n("face"),n("ff31"),n("bd19")),q=n.n($),x={name:"CardList",components:{Icon:q.a},methods:{next:function(){var t=this.$route.params.id,e=this.ids.indexOf(t);e+1===this.ids.length?this.$router.push({name:"CardSelector",params:{id:this.ids[0]}}):this.$router.push({name:"CardSelector",params:{id:this.ids[e+1]}})},prev:function(){var t=this.$route.params.id,e=this.ids.indexOf(t);0===e?this.$router.push({name:"CardSelector",params:{id:this.ids[this.ids.length-1]}}):this.$router.push({name:"CardSelector",params:{id:this.ids[e-1]}})}},computed:{ids:function(){return this.$store.state.ids},hasOnlyOneCard:function(){return this.ids.length<=1}},mounted:function(){console.log("mounted"),this.$router.push({name:"CardSelector",params:{id:this.ids[0]}})},updated:function(){this.$route.params.id||this.$router.push({name:"CardSelector",params:{id:this.ids[0]}})}},A=x,j=(n("2798"),Object(u["a"])(A,E,O,!1,null,null,null)),S=j.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.card?n("Card",{attrs:{card:t.card}}):t._e()},P=[],N=(n("7db0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card",class:{answer:t.showAnswer,question:!t.showAnswer},on:{click:t.toggleView}},[t.isEditing?[n("EditCardForm",{attrs:{card:t.card},on:{formSubmitted:function(e){t.isEditing=!1},cancelEdit:function(e){t.isEditing=!1}}})]:[n("div",{staticClass:"head"},[n("div",{staticClass:"badge"},[t._v(t._s(t.showAnswer?"Answer":"Question"))]),n("div",{staticClass:"buttons"},[n("button",{on:{click:t.toggleEdit}},[n("Icon",{attrs:{name:"pen"}})],1),n("button",{on:{click:t.remove}},[n("Icon",{attrs:{name:"times"}})],1)])]),t.showAnswer?n("div",{staticClass:"answer"},[n("h1",[t._v(t._s(t.card.answerTitle))]),n("p",{domProps:{innerHTML:t._s(t.formattedAnswer)}})]):n("div",{staticClass:"question"},[n("h1",[t._v(t._s(t.card.questionTitle))]),n("p",{domProps:{innerHTML:t._s(t.formattedQuestion)}})])]],2)}),L=[],M=(n("c52b"),n("835f"),n("8c6f"),n("0e54")),I=n.n(M),F=n("0874"),Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"edit-form",on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[n("div",{staticClass:"controls"},[n("label",{attrs:{for:"questionTitle"}},[t._v("Question Title")]),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.questionTitle,expression:"questionTitle"}],attrs:{type:"text",id:"questionTitle"},domProps:{value:t.questionTitle},on:{input:function(e){e.target.composing||(t.questionTitle=e.target.value)}}})]),n("div",{staticClass:"controls"},[n("label",{attrs:{for:"question"}},[t._v("Question")]),n("br"),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.question,expression:"question"}],attrs:{id:"question",cols:"60",rows:"5"},domProps:{value:t.question},on:{input:function(e){e.target.composing||(t.question=e.target.value)}}})]),n("div",{staticClass:"controls"},[n("label",{attrs:{for:"answerTitle"}},[t._v("Answer Title")]),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.answerTitle,expression:"answerTitle"}],attrs:{type:"text",id:"answerTitle"},domProps:{value:t.answerTitle},on:{input:function(e){e.target.composing||(t.answerTitle=e.target.value)}}})]),n("div",{staticClass:"controls"},[n("label",{attrs:{for:"answer"}},[t._v("Answer")]),n("br"),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.answer,expression:"answer"}],attrs:{id:"answer",cols:"60",rows:"5"},domProps:{value:t.answer},on:{input:function(e){e.target.composing||(t.answer=e.target.value)}}})]),n("div",{staticClass:"submit"},[n("input",{attrs:{type:"submit",value:"Edit"}}),n("button",{attrs:{type:"button"},on:{click:t.cancel}},[t._v("Cancel")])])])},D=[],B={name:"EditCardForm",props:["card"],data:function(){return{questionTitle:this.card.questionTitle,answerTitle:this.card.answerTitle,question:this.card.question,answer:this.card.answer}},methods:{submitForm:function(){var t=this;this.$store.dispatch("update",{id:this.card.id,answerTitle:this.answerTitle,questionTitle:this.questionTitle,answer:this.answer,question:this.question}).then((function(){t.$emit("formSubmitted")}))},cancel:function(){this.$emit("cancelEdit")}}},H=B,J=(n("f5a8"),Object(u["a"])(H,Q,D,!1,null,null,null)),R=J.exports,V={name:"Card",components:{Icon:F["a"],EditCardForm:R},props:["card"],data:function(){return{isEditing:!1,showAnswer:!1}},methods:{remove:function(){window.confirm("Do you want to remove this card?")&&this.$store.dispatch("remove",this.card.id)},toggleEdit:function(){this.isEditing=!this.isEditing},toggleView:function(){this.showAnswer=!this.showAnswer}},computed:{formattedAnswer:function(){return this.card.answer?I()(this.card.answer):""},formattedQuestion:function(){return this.card.question?I()(this.card.question):""}},watch:{card:function(){this.isEditing=!1,this.showAnswer=!1}}},K=V,U=(n("e60d"),Object(u["a"])(K,N,L,!1,null,null,null)),Y=U.exports,z={name:"CardSelector",components:{Card:Y},computed:{card:function(){var t=this;return this.$store.state.cards.find((function(e){return+e.id===+t.$route.params.id}))}}},G=z,W=Object(u["a"])(G,k,P,!1,null,null,null),X=W.exports;r["a"].use(_["a"]);var Z=[{path:"/add",name:"AddCard",component:function(){return n.e("add-card").then(n.bind(null,"098f"))}},{path:"/cards",name:"CardList",component:S,children:[{path:":id",name:"CardSelector",component:X}]}],tt=new _["a"]({routes:Z}),et=tt,nt=(n("4de4"),n("d81d"),n("5530")),rt=n("2f62"),at=(n("fb6a"),n("96cf"),n("1da1")),st=n("4dec"),it=new st["a"]("memory");it.version(1).stores({cards:"++id,question,answer"});var ot=it,ct=function(){var t=Object(at["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=ft,t.next=3,ot.cards.toArray();case 3:return t.t1=t.sent,e=(0,t.t0)(t.t1),n=e.map((function(t){return t.id})),t.abrupt("return",{cards:e,ids:n});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),dt=function(t){return ot.cards.add(t)},ut=function(t){return ot.cards.delete(t)},lt=function(t,e){return ot.cards.update(t,e)},ft=function(t){var e,n,r,a=t.slice();for(r=a.length-1;r>0;r--)e=Math.floor(Math.random()*(r+1)),n=a[r],a[r]=a[e],a[e]=n;return a};r["a"].use(rt["a"]);var mt=new rt["a"].Store({state:{cards:[],ids:[],toast:null},mutations:{getCards:function(t,e){t.cards=e.cards,t.ids=e.ids},addCard:function(t,e){t.cards.push(e.card),t.ids.push(e.id)},deleteCard:function(t,e){t.cards=t.cards.filter((function(t){return t.id!==e}))},updateCard:function(t,e){t.cards=t.cards.map((function(t){return t.id===e.id?Object(nt["a"])(Object(nt["a"])({},t),e):t}))},addToast:function(t,e){t.toast=e},removeToast:function(t){t.toast=null}},actions:{add:function(t,e){var n=t.commit;dt(e).then((function(t){n("addCard",{card:e,id:t}),n("addToast",{type:"success",message:"Card added!"}),setTimeout((function(){n("removeToast")}),3e3)}))},remove:function(t,e){var n=t.commit;ut(e).then((function(){n("deleteCard",e),et.push({name:"CardList"}),n("addToast",{type:"success",message:"Card deleted!"}),setTimeout((function(){n("removeToast")}),3e3)}))},update:function(t,e){var n=t.commit;lt(e.id,e).then((function(){n("updateCard",e),n("addToast",{type:"success",message:"Card updated!"}),setTimeout((function(){n("removeToast")}),3e3)}))},get:function(t){var e=t.commit;ct().then((function(t){e("getCards",t)}))},addToast:function(t,e){var n=t.commit;n("addToast",e)},removeToast:function(t){var e=t.commit;e("removeToast")}}}),pt=mt;r["a"].config.productionTip=!1,new r["a"]({router:et,store:pt,render:function(t){return t(y)}}).$mount("#app")},"85ec":function(t,e,n){},"8abb":function(t,e,n){},9370:function(t,e,n){"use strict";var r=n("0967"),a=n.n(r);a.a},cd8c:function(t,e,n){},d62b:function(t,e,n){},e60d:function(t,e,n){"use strict";var r=n("e9ec"),a=n.n(r);a.a},e9ec:function(t,e,n){},f5a8:function(t,e,n){"use strict";var r=n("d62b"),a=n.n(r);a.a}});
//# sourceMappingURL=app.c85c789a.js.map